<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Sampath Host Tools</title>

    <!-- Font -->
    <style>
    @font-face {
      font-family: 'Source Code Pro';
      font-style: normal;
      font-weight: 400;
      src: local('Source Code Pro'), local('SourceCodePro-Regular'),
           url('http://themes.googleusercontent.com/static/fonts/sourcecodepro/v4/mrl8jkM18OlOQN8JLgasDxM0YzuT7MdOe03otPbuUS0.woff') format('woff');
    }
    :root{
        --bg-color: #050505;
        --accent: #00ff66;
        --muted: #b0c0b4;
        --danger: #ff5252;
        --info: #2196F3;
        --light-blue: #36d1dc; /* Light blue for the new style */
    }

    /* full-screen animated canvas behind everything */
    html,body{height:100%;margin:0;font-family:'Source Code Pro', monospace;background:#000;color:var(--accent);}
    #bg-canvas{
        position:fixed;
        inset:0;
        width:100%;
        height:100%;
        z-index:-1;
        pointer-events:none;
        display:block;
    }

    /* main container - UPDATED for 35% transparency (alpha = 0.65) */
    .container {
        max-width: 1200px;
        margin: 30px auto;
        background: rgba(8, 20, 15, 0.65); /* 35% transparent */
        padding: 25px;
        border-radius: 10px;
        box-shadow: 0 8px 30px rgba(0,0,0,0.8), 0 0 40px rgba(0,255,102,0.03) inset;
        border: 1px solid rgba(0,255,102,0.2);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        color: #dfffe6;
    }

    /* --- NEW: Animated Server Header --- */
    .header-container {
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px 0;
        margin-bottom: 15px;
        border-bottom: 1px solid rgba(0,255,102,0.15);
        min-height: 100px; /* Give it some space */
        overflow: hidden;
    }
    .server-icon-wrapper {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0.25;
        z-index: 1;
    }
    .server-icon {
        width: 120px;
        height: 120px;
        filter: drop-shadow(0 0 15px var(--accent));
    }
    .server-light {
        animation: blink 2s infinite;
    }
    .server-light.two { animation-delay: 0.5s; }
    .server-light.three { animation-delay: 1.2s; }
    @keyframes blink {
        0%, 48%, 100% { fill: #333; }
        50% { fill: var(--accent); }
        52% { fill: #333; }
    }

    h1 {
        position: relative;
        z-index: 2;
        color: var(--accent);
        text-shadow: 0 0 15px rgba(0,255,102,0.5), 0 0 5px #fff;
        padding-bottom: 0;
        margin: 0;
        border-bottom: none;
        font-size: 28px;
        animation: text-flicker 4s linear infinite;
    }
    @keyframes text-flicker {
      0%, 18%, 22%, 25%, 53%, 57%, 100% { text-shadow: 0 0 10px rgba(0,255,102,0.4), 0 0 20px rgba(0,255,102,0.6), 0 0 2px #fff; }
      20%, 24%, 55% { text-shadow: none; }
    }

    /* --- Tab Navigation --- */
    .tab-buttons {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-bottom: 25px;
        border-bottom: 1px solid rgba(0,255,102,0.1);
        padding-bottom: 20px;
    }
    .tab-btn {
        padding: 10px 20px;
        cursor: pointer;
        background: rgba(0, 255, 102, 0.1);
        border: 1px solid rgba(0, 255, 102, 0.2);
        color: var(--accent);
        border-radius: 6px;
        font-size: 14px;
        font-weight: bold;
        transition: all 0.2s ease;
    }
    .tab-btn:hover {
        background: rgba(0, 255, 102, 0.2);
        box-shadow: 0 0 15px rgba(0,255,102,0.1);
    }
    .tab-btn.active {
        background: var(--accent);
        color: #001a0a;
        box-shadow: 0 0 20px rgba(0,255,102,0.3);
        transform: scale(1.05);
    }
    .tab-content { display: none; }
    .tab-content.active { display: block; animation: tabFadeIn 0.5s ease; }
    @keyframes tabFadeIn { from { opacity: 0; } to { opacity: 1; } }

    /* section box with 35% transparency */
    .section-box {
        background-color: rgba(0,0,0,0.65); 
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 25px;
        border: 1px solid rgba(255,255,255,0.08);
        box-shadow: 0 2px 10px rgba(0,0,0,0.3) inset;
    }
    .section-box > label {
        display: block;
        margin-bottom: 10px;
        font-weight: bold;
        color: var(--accent);
    }
    
    .instructions { padding: 15px 20px; }

    /* --- MODIFIED: Light Blue style for Host Checker instructions --- */
    .instructions.host-checker-style {
        background: rgba(54, 209, 220, 0.1); /* Light blue glow */
        border: 1px solid rgba(54, 209, 220, 0.3);
        border-left: 4px solid var(--light-blue);
    }
    .instructions.host-checker-style strong { color: var(--light-blue); text-shadow: 0 0 8px rgba(54, 209, 220, 0.5); }
    .instructions.host-checker-style ul { color: #d1faff; }

    /* Ping Checker instructions style - Unchanged */
    .instructions.info { 
         background: rgba(33, 150, 243, 0.1);
         border-color: rgba(33, 150, 243, 0.3);
         border-left-color: var(--info);
    }
    .instructions.info strong { color: var(--info); text-shadow: 0 0 5px rgba(33, 150, 243,0.3);}
    .instructions.info ul { color: #cce7ff; }

    .instructions ul { padding-left: 20px; margin-top: 10px; }
    .instructions li { margin-bottom: 8px; padding-left: 5px; }
    .instructions li b { color: #fff; }

    /* --- MODIFIED: Textarea is more transparent --- */
    textarea {
        width:100%; height:250px; background:rgba(0,0,0,0.35); /* Was 0.45, now more transparent */
        color:var(--accent); border:1px solid rgba(0,255,102,0.1);
        border-radius:6px; padding:10px; font-family: 'Courier New', monospace; font-size:13px; box-sizing:border-box;
    }

    /* --- ALL OTHER STYLES BELOW ARE UNCHANGED --- */
    .controls { display: flex; flex-wrap: wrap; gap: 20px; align-items: flex-end; justify-content: center; }
    button {
        background: linear-gradient(180deg, var(--accent), #22c582);
        color: #001; border: none; padding: 12px 25px; font-size: 16px;
        font-weight: bold; border-radius: 8px; cursor: pointer;
        transition: transform .12s ease, box-shadow .12s ease;
        box-shadow: 0 6px 18px rgba(0,255,102,0.1);
        text-shadow: 0 1px 1px rgba(0,0,0,0.1);
    }
    button:hover{ transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,255,102,0.15); }
    .stop-btn { background: linear-gradient(180deg,#ff6b6b,#ff5252); color:#fff; }
    button:disabled{ opacity:0.5; cursor:not-allowed; transform:none; box-shadow:none; }
    .input-group { display:flex; flex-direction:column; min-width:110px; }
    .input-group label{ font-size:13px; color:var(--muted); margin-bottom:6px; }
    .input-group input{ background:rgba(255,255,255,0.03); color:var(--accent); border:1px solid rgba(255,255,255,0.08); padding:8px; border-radius:6px; }
    .progress-container{ background:rgba(0,0,0,0.65); border-radius:6px; padding:12px; }
    .progress-text{ text-align:center; font-size:14px; margin-bottom:8px; color:var(--muted); }
    .progress-bar{ width:100%; background:rgba(255,255,255,0.03); border-radius:8px; overflow:hidden; height:24px; border:1px solid rgba(0,0,0,0.4); }
    #progress-bar-inner, #ping-progress-bar-inner { 
        width:0%; height:100%; background: linear-gradient(90deg, var(--accent), #22c582); text-align:center; color:#001; 
        font-weight:bold; line-height:24px; transition: width 0.4s ease; 
    }
    .results{ display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-top:20px; }
    .result-box{ background:rgba(0,0,0,0.65); padding:15px; border-radius:8px; height:400px; overflow-y:auto; border:1px solid rgba(255,255,255,0.08); }
    .result-box h3{ margin-top:0; position:sticky; top:0; background:rgba(8, 8, 8, 0.8); backdrop-filter: blur(4px); padding:10px 0; z-index: 10;}
    .count{ font-size:13px; background:rgba(0,0,0,0.5); color:var(--accent); padding:2px 8px; border-radius:10px; font-weight:bold; margin-left: 8px; }
    .result-list{ list-style:none; padding:0; margin:0; font-family: 'Courier New', monospace; color:#a7f7c9; }
    .result-list li{ padding:6px 10px; border-radius:4px; margin-bottom:6px; background: rgba(0,0,0,0.2); transition: background 0.2s ease; }
    .result-list li:hover { background: rgba(0, 255, 102, 0.1); }
    .result-list li.success a { color: var(--accent); text-decoration: none; display: block; }
    .result-list li.success a:hover { text-decoration: underline; color: #fff; }
    .success{ border-left:4px solid var(--accent); }
    .fail{ border-left:4px solid var(--danger); color: #ffb8b8; }
    #ping-results-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 15px; }
    .ping-result-card { background: rgba(0,0,0,0.65); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; padding: 15px; display: flex; flex-direction: column; gap: 10px; transition: all 0.3s ease; animation: fadeIn 0.5s ease; }
    .ping-result-card.success-ping { border-left: 5px solid var(--accent); }
    .ping-result-card.fail-ping { border-left: 5px solid var(--danger); }
    .ping-result-card h4 { margin: 0; padding-bottom: 8px; border-bottom: 1px solid rgba(255,255,255,0.1); font-size: 16px; }
    .ping-result-card div { font-size: 13px; color: var(--muted); }
    .ping-result-card div span { color: #fff; font-weight: bold; margin-left: 8px; }
    .ping-result-card .ping-time.fast { color: var(--accent); }
    .ping-result-card .ping-time.medium { color: #ffd700; }
    .ping-result-card .ping-time.slow { color: var(--danger); }
    .ping-result-card .status-ok { color: var(--accent); }
    .ping-result-card .status-fail { color: var(--danger); }
    .whatsapp-btn { position: fixed; right: 18px; bottom: 18px; z-index: 1000; display:flex; gap:10px; align-items:center; background: linear-gradient(180deg,#25D366,#10b759); color: #fff; padding: 10px 14px; border-radius: 999px; box-shadow: 0 8px 30px rgba(16,183,89,0.18); cursor:pointer; border: 1px solid rgba(255,255,255,0.06); text-decoration:none; transition: transform .2s ease, box-shadow .2s ease; }
    .whatsapp-btn img{ width:20px; height:20px; display:block; }
    .whatsapp-btn .label{ font-weight:700; font-size:14px; color:#001; margin-left:2px; text-shadow: none; }
    .whatsapp-btn:hover{ box-shadow: 0 12px 40px rgba(0,255,102,0.2); transform: translateY(-3px) scale(1.05); }
    .hack-badge{ display:inline-block; font-size:12px; background:rgba(0,0,0,0.5); padding:4px 8px; border-radius:12px; color:var(--accent); margin-left:8px; border:1px solid rgba(0,255,102,0.1); }
    @media (max-width:768px){
        .container { margin: 15px; padding: 15px; }
        .results{ grid-template-columns:1fr; }
        .controls{ flex-direction:column; align-items:stretch; }
        h1 { font-size: 22px; }
        .server-icon { width: 90px; height: 90px; }
    }
    </style>
</head>
<body>

    <canvas id="bg-canvas"></canvas>

    <div class="container">
        <!-- New Animated Server Header -->
        <div class="header-container">
            <div class="server-icon-wrapper">
                <svg class="server-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 18H4V16H20V18ZM20 14H4V12H20V14ZM20 10H4V8H20V10ZM20 6H4V4H20V6Z" fill="var(--accent)"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M2 2C0.89543 2 0 2.89543 0 4V20C0 21.1046 0.89543 22 2 22H22C23.1046 22 24 21.1046 24 20V4C24 2.89543 23.1046 2 22 2H2ZM2 4H22V20H2V4Z" fill="var(--accent)"/>
                    <circle class="server-light one" cx="6" cy="17" r="1"/>
                    <circle class="server-light two" cx="6" cy="13" r="1"/>
                    <circle class="server-light three" cx="6" cy="9" r="1"/>
                    <circle class="server-light one" cx="6" cy="5" r="1" style="animation-delay: 0.8s;"/>
                </svg>
            </div>
            <h1>Sampath Host Tools <span class="hack-badge">v2.0</span></h1>
        </div>

        <!-- Tab Buttons (Unchanged) -->
        <div class="tab-buttons">
            <button id="btn-tab-1" class="tab-btn active">Host Checker</button>
            <button id="btn-tab-2" class="tab-btn">Host IP & Ping Checker</button>
        </div>

        <!-- Tab 1: Host Checker -->
        <div id="host-checker-tab" class="tab-content active">
            <!-- Instructions box with the new light blue style -->
            <div class="section-box instructions host-checker-style">
                <strong>‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª‡∂± ‡∂Ü‡∂ö‡∑è‡∂ª‡∂∫ ‡∑É‡∑Ñ ‡∂Ø‡∑ê‡∂±‡∂ú‡∂≠ ‡∂∫‡∑î‡∂≠‡∑î ‡∂ö‡∂ª‡∑î‡∂´‡∑î:</strong>
                <ul>
                    <li>‡∂∏‡∑ô‡∂∏ ‡∂∏‡∑ô‡∑Ä‡∂Ω‡∂∏‡∑ô‡∂±‡∑ä ‡∑É‡∑í‡∂Ø‡∑î ‡∂ö‡∂ª‡∂±‡∑ö ‡∂Ω‡∂∂‡∑è ‡∂Ø‡∑ì ‡∂á‡∂≠‡∑í host ‡∂Ω‡∑ê‡∂∫‡∑í‡∑É‡∑ä‡∂≠‡∑î‡∑Ä‡∂ß ‡∂î‡∂∂‡∂ú‡∑ö ‡∂¢‡∑è‡∂Ω‡∂∫‡∑ô‡∂±‡∑ä ‡∑É‡∂∏‡∑ä‡∂∂‡∂±‡∑ä‡∂∞ ‡∑Ä‡∑í‡∂∫ ‡∑Ñ‡∑ê‡∂ö‡∑í‡∂Ø (Reachable) ‡∂∫‡∂±‡∑ä‡∂± ‡∂¥‡∂ª‡∑ì‡∂ö‡∑ä‡∑Ç‡∑è ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂∫‡∑í.</li>
                    <li>‡∂∫‡∂∏‡∑ä host ‡∂ë‡∂ö‡∂ö‡∑ä "Successful" ‡∂Ω‡∑ô‡∑É ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∑ñ ‡∂¥‡∂∏‡∂´‡∑í‡∂±‡∑ä ‡∂ë‡∂∫ ‡∂î‡∂∂‡∂ú‡∑ö ‡∂¥‡∑ê‡∂ö‡∑ö‡∂¢‡∂∫‡∂ß 100% ‡∂±‡∑ú‡∂∏‡∑í‡∂Ω‡∑ö ‡∂∫‡∑ê‡∂∫‡∑í ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î ‡∂±‡∑ú‡∑Ä‡∑ö.</li>
                    <li>‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í‡∂∏ ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂µ‡∂Ω ‡∑É‡∂≥‡∑Ñ‡∑è: ‡∂î‡∂∂‡∂ú‡∑ö ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂¥‡∑ê‡∂ö‡∑ö‡∂¢‡∂∫ ‡∑É‡∂ö‡∑ä‚Äç‡∂ª‡∑ì‡∂∫‡∑Ä ‡∂á‡∂≠‡∑í ‡∂Ö‡∑Ä‡∑É‡∑ä‡∂Æ‡∑è‡∑Ä‡∂Ω ‡∂¥‡∂ª‡∑ì‡∂ö‡∑ä‡∑Ç‡∑è ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.</li>
                </ul>
            </div>
            
            <!-- Rest of Tab 1 is Unchanged -->
            <div class="section-box">
                <label for="host-list">‡∂¥‡∂ª‡∑ì‡∂ö‡∑ä‡∑Ç‡∑è ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ Host ‡∂Ω‡∑ê‡∂∫‡∑í‡∑É‡∑ä‡∂≠‡∑î‡∑Ä:</label>
                <textarea id="host-list" spellcheck="false" style="white-space:pre-wrap;"><!-- Populated by JS --></textarea>
                <hosts style="display:none">
                facebook.com
                www.facebook.com
                youtube.com
                google.com
                whatsapp.com
                tiktok.com
                instagram.com
                twitter.com
                adaderana.lk
www.adaderana.lk
cdn.derana.lk
sinhala.adaderana.lk
hirunews.lk
www.hirunews.lk
cdn.hirunews.lk
newsfirst.lk
www.newsfirst.lk
api-news.hermes.newsfirst.lk
live.newsfirst.lk
static.newsfirst.lk
lankadeepa.lk
www.lankadeepa.lk
gossiplankanews.com
www.gossiplankanews.com
lankacnews.com
www.lankacnews.com
nethnews.lk
www.nethnews.lk
themorning.lk
www.themorning.lk
mawbima.lk
www.mawbima.lk
ceylontoday.lk
www.ceylontoday.lk
dinamina.lk
www.dinamina.lk
silumina.lk
www.silumina.lk
sundayobserver.lk
www.sundayobserver.lk
dailynews.lk
www.dailynews.lk
ft.lk
www.ft.lk
colombogazette.com
www.colombogazette.com
colombotelegraph.com
www.colombotelegraph.com
srilankamirror.com
www.srilankamirror.com
lankanewsweb.net
www.lankanewsweb.net
newswire.lk
www.newswire.lk
ada.lk
www.ada.lk
rupavahini.lk
www.rupavahini.lk
itn.lk
www.itn.lk
tvderana.lk
www.tvderana.lk
hirutv.lk
www.hirutv.lk
swarnavahini.lk
www.swarnavahini.lk
sirasa.lk
www.sirasa.lk
sirasatv.lk
www.sirasatv.lk
vfm.lk
www.vfm.lk
hirusi.fm
www.hirusi.fm
shaafm.lk
www.shaafm.lk
yesfm.lk
www.yesfm.lk
yfm.lk
www.yfm.lk
siyathafm.lk
www.siyathafm.lk
sirasafm.lk
www.sirasafm.lk
goldfm.lk
www.goldfm.lk
sunfm.lk
www.sunfm.lk
kissfm.lk
www.kissfm.lk
realfm.lk
www.realfm.lk
fox914.lk
www.fox914.lk
lankasri.com
www.lankasri.com
voicetube.lk
www.voicetube.lk
boondi.lk
www.boondi.lk
roar.media
sinhala.roar.media
boc.lk
www.boc.lk
ebank.boc.lk
online.boc.lk
combank.lk
www.combank.lk
combank.net
www.combank.net
sampath.lk
www.sampath.lk
sampathvishwa.com
www.sampathvishwa.com
web.sampathvishwa.com
nsb.lk
www.nsb.lk
peoplesbank.lk
www.peoplesbank.lk
peoplesbank.com
www.peoplesbank.com
hnb.net
www.hnb.net
online.hnb.net
seylan.lk
www.seylan.lk
ndbbank.com
www.ndbbank.com
neasonline.ndbbank.com
commercialbank.lk
www.commercialbank.lk
pabcbank.com
www.pabcbank.com
unionb.com
www.unionb.com
cargillsonline.com
www.cargillsonline.com
cargillsbank.com
www.cargillsbank.com
lolcfinance.com
www.lolcfinance.com
lolc.com
www.lolc.com
lbfinance.com
www.lbfinance.com
cdb.lk
www.cdb.lk
vallibelfinance.com
www.vallibelfinance.com
senkadagala.com
www.senkadagala.com
smblk.com
www.smblk.com
peoplesleasing.lk
www.peoplesleasing.lk
softlogicfinance.lk
www.softlogicfinance.lk
cse.lk
www.cse.lk
cds.lk
www.cds.lk
cbsl.gov.lk
www.cbsl.gov.lk
fintrexfinance.com
www.fintrexfinance.com
allianz.lk
www.allianz.lk
srilankainsurance.com
www.srilankainsurance.com
janashakthi.com
www.janashakthi.com
aialife.com.lk
www.aialife.com.lk
ceylincolife.com
www.ceylincolife.com
unionassurance.com
www.unionassurance.com
arpicoinsurance.com
www.arpicoinsurance.com
fairfirst.lk
www.fairfirst.lk
dialog.lk
www.dialog.lk
genie.lk
www.genie.lk
mobitel.lk
www.mobitel.lk
hutch.lk
www.hutch.lk
airtel.lk
www.airtel.lk
slt.lk
www.slt.lk
peotv.slt.lk
storage.slt.lk
sltnet.lk
www.sltnet.lk
lankabell.com
www.lankabell.com
internet.lankabell.com
gov.lk
www.gov.lk
president.gov.lk
www.president.gov.lk
pmoffice.gov.lk
www.pmoffice.gov.lk
parliament.lk
www.parliament.lk
moe.gov.lk
www.moe.gov.lk
mofa.gov.lk
www.mofa.gov.lk
health.gov.lk
www.health.gov.lk
hpb.health.gov.lk
epid.gov.lk
ird.gov.lk
www.ird.gov.lk
eservices.ird.gov.lk
customs.gov.lk
www.customs.gov.lk
immigration.gov.lk
www.immigration.gov.lk
eservices.immigration.gov.lk
eta.gov.lk
www.eta.gov.lk
dmt.gov.lk
www.dmt.gov.lk
drp.gov.lk
www.drp.gov.lk
doenets.lk
www.doenets.lk
documents.gov.lk
www.documents.gov.lk
police.lk
www.police.lk
army.lk
www.army.lk
navy.lk
www.navy.lk
airforce.lk
www.airforce.lk
sltb.lk
www.sltb.lk
railway.gov.lk
www.railway.gov.lk
ceb.lk
www.ceb.lk
waterboard.lk
www.waterboard.lk
nie.lk
www.nie.lk
ugc.ac.lk
www.ugc.ac.lk
lankagate.gov.lk
www.lankagate.gov.lk
meteo.gov.lk
www.meteo.gov.lk
slpost.gov.lk
www.slpost.gov.lk
srilankateaboard.lk
www.srilankateaboard.lk
srilankatourism.org
www.srilankatourism.org
cmb.ac.lk
www.cmb.ac.lk
uoc.ac.lk
www.uoc.ac.lk
pdn.ac.lk
www.pdn.ac.lk
ruh.ac.lk
www.ruh.ac.lk
kln.ac.lk
www.kln.ac.lk
sjp.ac.lk
www.sjp.ac.lk
mrt.ac.lk
www.mrt.ac.lk
uom.lk
www.uom.lk
learn.mrt.ac.lk
vle.mrt.ac.lk
jfn.ac.lk
www.jfn.ac.lk
sab.ac.lk
www.sab.ac.lk
wyb.ac.lk
www.wyb.ac.lk
seu.ac.lk
www.seu.ac.lk
vau.ac.lk
www.vau.ac.lk
raj.ac.lk
www.raj.ac.lk
uwu.ac.lk
www.uwu.ac.lk
ousl.lk
www.ousl.lk
kdu.ac.lk
www.kdu.ac.lk
sliit.lk
www.sliit.lk
nsbm.ac.lk
www.nsbm.ac.lk
iit.ac.lk
www.iit.ac.lk
apiit.lk
www.apiit.lk
e-thaksalawa.moe.gov.lk
guru.lk
www.guru.lk
patashala.lk
www.patashala.lk
daraz.lk
www.daraz.lk
static-sl.daraz.lk
img.daraz.lk
kapruka.com
www.kapruka.com
takas.lk
www.takas.lk
wasi.lk
www.wasi.lk
keellssuper.com
www.keellssuper.com
cargillsfoodcity.com
www.cargillsfoodcity.com
arpicosupercentre.com
www.arpicosupercentre.com
glomark.lk
www.glomark.lk
ikman.lk
www.ikman.lk
riyasewana.com
www.riyasewana.com
autolanka.com
www.autolanka.com
patpat.lk
www.patpat.lk
yamu.lk
www.yamu.lk
mydeal.lk
www.mydeal.lk
wow.lk
www.wow.lk
bigdeals.lk
www.bigdeals.lk
fashionmarket.lk
www.fashionmarket.lk
nolimit.lk
www.nolimit.lk
odel.lk
www.odel.lk
hm.com
www2.hm.com
zara.com
www.zara.com
lassana.com
www.lassana.com
wishque.com
www.wishque.com
singersl.com
www.singersl.com
abans.com
www.abans.com
softlogic.lk
www.softlogic.lk
buyabans.com
www.buyabans.com
sarasavi.lk
www.sarasavi.lk
mdgunasena.com
www.mdgunasena.com
vijithayapa.com
www.vijithayapa.com
srilankan.com
www.srilankan.com
cinnamonair.com
www.cinnamonair.com
booking.com
www.booking.com
agoda.com
www.agoda.com
airbnb.com
www.airbnb.com
pickme.lk
www.pickme.lk
uber.com
www.uber.com
cinnamonhotels.com
www.cinnamonhotels.com
jetwinghotels.com
www.jetwinghotels.com
aitkenspencehotels.com
www.aitkenspencehotels.com
amayaresorts.com
www.amayaresorts.com
thekingsburyhotel.com
www.thekingsburyhotel.com
cinnamon-grand.com
www.cinnamon-grand.com
shangri-la.com
www.shangri-la.com/colombo
galadarihotel.lk
www.galadarihotel.lk
gallefacehotel.com
www.gallefacehotel.com
topjobs.lk
www.topjobs.lk
jobpal.lk
www.jobpal.lk
xpressjobs.lk
www.xpressjobs.lk
dreamjobs.lk
www.dreamjobs.lk
lankajob.lk
www.lankajob.lk
hitad.lk
www.hitad.lk
jobs.lk
www.jobs.lk
readme.lk
www.readme.lk
androidwedakarayo.com
www.androidwedakarayo.com
anything.lk
www.anything.lk
elakiri.com
www.elakiri.com
chanuxbro.com
www.chanuxbro.com
nic.lk
www.nic.lk
domains.lk
www.domains.lk
busseat.lk
www.busseat.lk
cinema.lk
www.cinema.lk
bookmyshow.com
lk.bookmyshow.com
tickets.lk
www.tickets.lk
google.com
www.google.com
accounts.google.com
play.google.com
mail.google.com
drive.google.com
docs.google.com
photos.google.com
meet.google.com
translate.google.com
maps.google.com
news.google.com
apis.google.com
ad.google.com
analytics.google.com
firebase.google.com
cloud.google.com
android.com
chrome.com
youtube.com
www.youtube.com
m.youtube.com
music.youtube.com
studio.youtube.com
youtu.be
yt.be
googlevideo.com
redirector.googlevideo.com
ytimg.com
i.ytimg.com
s.ytimg.com
yt3.ggpht.com
ggpht.com
googleapis.com
google-analytics.com
googleadservices.com
googleusercontent.com
play-lh.googleusercontent.com
lh3.googleusercontent.com
lh4.googleusercontent.com
lh5.googleusercontent.com
lh6.googleusercontent.com
video-downloads.googleusercontent.com
googletagmanager.com
googletagservices.com
gstatic.com
www.gstatic.com
encrypted-tbn0.gstatic.com
encrypted-tbn1.gstatic.com
encrypted-tbn2.gstatic.com
encrypted-tbn3.gstatic.com
gvt1.com
gvt2.com
gvt3.com
dl.google.com
dl-ssl.google.com
storage.googleapis.com
update.googleapis.com
clients1.google.com
clients2.google.com
clients3.google.com
clients4.google.com
clients5.google.com
clients6.google.com
mtalk.google.com
dns.google
8.8.8.8
8.8.4.4
facebook.com
www.facebook.com
m.facebook.com
web.facebook.com
l.facebook.com
graph.facebook.com
connect.facebook.net
fb.com
fb.me
fbcdn.net
scontent.xx.fbcdn.net
scontent-iad3-1.xx.fbcdn.net
scontent-lga3-1.xx.fbcdn.net
scontent-sin6-2.xx.fbcdn.net
external.xx.fbcdn.net
lookaside.fbsbx.com
instagram.com
www.instagram.com
api.instagram.com
scontent.cdninstagram.com
graph.instagram.com
i.instagram.com
whatsapp.com
web.whatsapp.com
whatsapp.net
g.whatsapp.net
e.whatsapp.net
media.whatsapp.net
static.whatsapp.net
mmg.whatsapp.net
mms.whatsapp.net
pps.whatsapp.net
v.whatsapp.net
cdn.whatsapp.net
messenger.com
m.messenger.com
tiktok.com
www.tiktok.com
m.tiktok.com
v.tiktok.com
vt.tiktok.com
api.tiktokv.com
api2.musical.ly
api-h2.tiktokv.com
log.tiktokv.com
ib.tiktokv.com
muscdn.com
musical.ly
tiktokcdn.com
v16.tiktokcdn.com
v19.tiktokcdn.com
p16.tiktokcdn.com
p16-sign-va.tiktokcdn.com
tiktokv.com
byteoversea.com
p-va-a.byteoversea.com
vcs.byteoversea.com
snssdk.com
video-va.snssdk.com
api.amemv.com
aweme.snssdk.com
pstatp.com
pull-f5.pstatp.com
ibytedtos.com
sf-tb-sg.ibytedtos.com
apple.com
www.apple.com
itunes.apple.com
apps.apple.com
music.apple.com
tv.apple.com
icloud.com
api.icloud.com
setup.icloud.com
mzstatic.com
a1.mzstatic.com
is1-ssl.mzstatic.com
is2-ssl.mzstatic.com
is3-ssl.mzstatic.com
is4-ssl.mzstatic.com
is5-ssl.mzstatic.com
apple-cloudkit.com
microsoft.com
www.microsoft.com
office.com
www.office.com
office365.com
teams.microsoft.com
statics.teams.cdn.office.net
live.com
outlook.com
outlook.live.com
login.live.com
onedrive.live.com
onedrive.com
skype.com
api.skype.com
bing.com
xbox.com
compass-ssl.xbox.com
xboxlive.com
netflix.com
www.netflix.com
assets.nflxext.com
codex.nflxext.com
nflxvideo.net
nflxso.net
spotify.com
open.spotify.com
api.spotify.com
i.scdn.co
audio-ak.spotify.com
soundcloud.com
api-v2.soundcloud.com
va.sndcdn.com
vimeo.com
i.vimeocdn.com
f.vimeocdn.com
dailymotion.com
geo.dailymotion.com
twitch.tv
api.twitch.tv
gql.twitch.tv
static-cdn.jtvnw.net
usher.ttvnw.net
hotstar.com
img1.hotstarext.com
disneyplus.com
hulu.com
primevideo.com
twitter.com
x.com
api.twitter.com
pbs.twimg.com
abs.twimg.com
t.co
telegram.org
api.telegram.org
web.telegram.org
cdn1.telesco.pe
cdn2.telesco.pe
cdn3.telesco.pe
cdn4.telesco.pe
cdn5.telesco.pe
viber.com
share.viber.com
imo.im
api.imo.im
snapchat.com
app.snapchat.com
sc-cdn.net
discord.com
discord.gg
cdn.discordapp.com
gateway.discord.gg
reddit.com
www.reddit.com
old.reddit.com
v.redd.it
i.redd.it
pinterest.com
i.pinimg.com
linkedin.com
media-exp1.licdn.com
static-exp1.licdn.com
steamcommunity.com
steampowered.com
store.steampowered.com
cdn.akamai.steamstatic.com
epicgames.com
cdn1.epicgames.com
static.epicgames.com
playstation.com
media.playstation.com
sony.com
ea.com
api1.origin.com
origin.com
riotgames.com
playvalorant.com
leagueoflegends.com
pubgmobile.com
api.pubgmobile.com
garena.com
ff.garena.com
supercell.com
clashofclans.com
nintendo.com
nintendo.net
unity.com
unity3d.com
unrealengine.com
cloudflare.com
cdnjs.cloudflare.com
1.1.1.1
1.0.0.1
akamai.net
akamaized.net
akamaihd.net
a248.e.akamai.net
amazonaws.com
s3.amazonaws.com
s3-us-west-2.amazonaws.com
cloudfront.net
d32k1ksc82ejl.cloudfront.net
d3njjcbhbojbot.cloudfront.net
fastly.net
fastly.com
assets.fastly.net
azure.com
azureedge.net
vo.msecnd.net
digitalocean.com
cdn.digitalocean.com
vultr.com
linode.com
bunny.net
b-cdn.net
jsdelivr.net
cdn.jsdelivr.net
unpkg.com
amazon.com
m.media-amazon.com
aliexpress.com
alibaba.com
img.alicdn.com
ebay.com
ir.ebaystatic.com
shopify.com
cdn.shopify.com
zoom.us
api.zoom.us
dropbox.com
dl.dropboxusercontent.com
mega.nz
mega.io
wetransfer.com
mediafire.com
github.com
raw.githubusercontent.com
avatars.githubusercontent.com
wordpress.com
s0.wp.com
i0.wp.com

                </hosts>
            </div>
            <div class="section-box controls-box">
                <div class="controls">
                    <button id="start-btn">üöÄ Start Checking</button>
                    <button id="stop-btn" class="stop-btn" disabled>üõë Stop</button>
                    <div class="input-group">
                        <label for="batch-size">Batch Size</label>
                        <input type="number" id="batch-size" value="15" min="1" max="100">
                    </div>
                    <div class="input-group">
                        <label for="timeout">Timeout (ms)</label>
                        <input type="number" id="timeout" value="5000" min="1000" max="20000">
                    </div>
                </div>
                <div class="progress-container" style="margin-top: 20px;">
                    <div id="progress-text">Waiting to start...</div>
                    <div class="progress-bar">
                        <div id="progress-bar-inner"></div>
                    </div>
                </div>
            </div>
            <div class="results">
                <div id="successful-box" class="result-box">
                    <h3>‚úÖ Successful Hosts <span id="success-count" class="count">0</span></h3>
                    <ul id="successful-list" class="result-list"></ul>
                </div>
                <div id="failed-box" class="result-box">
                    <h3>‚ùå Failed Hosts <span id="fail-count" class="count">0</span></h3>
                    <ul id="failed-list" class="result-list"></ul>
                </div>
            </div>
        </div>

        <!-- Tab 2: Host IP & Ping Checker (Unchanged) -->
        <div id="ping-checker-tab" class="tab-content">
            <div class="section-box instructions info">
                <strong>‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª‡∂± ‡∂Ü‡∂ö‡∑è‡∂ª‡∂∫ ‡∑É‡∑Ñ ‡∂Ø‡∑ê‡∂±‡∂ú‡∂≠ ‡∂∫‡∑î‡∂≠‡∑î ‡∂ö‡∂ª‡∑î‡∂´‡∑î:</strong>
                <ul>
                    <li>‡∂∏‡∑ô‡∂∏ ‡∂∏‡∑ô‡∑Ä‡∂Ω‡∂∏‡∑ô‡∂±‡∑ä ‡∂î‡∂∂ ‡∂Ω‡∂∂‡∑è ‡∂Ø‡∑ô‡∂± host ‡∂ë‡∂ö‡∂ß ‡∑É‡∂∏‡∑ä‡∂∂‡∂±‡∑ä‡∂∞ ‡∑Ä‡∑ì‡∂∏‡∂ß ‡∂ú‡∂≠‡∑Ä‡∂± ‡∂ö‡∑è‡∂Ω‡∂∫ (Ping) ‡∑É‡∑Ñ ‡∂ë‡∑Ñ‡∑í IP ‡∂Ω‡∑í‡∂¥‡∑í‡∂±‡∂∫ ‡∂¥‡∂ª‡∑ì‡∂ö‡∑ä‡∑Ç‡∑è ‡∂ö‡∂ª‡∂∫‡∑í.</li>
                    <li><b>Ping (Latency):</b> ‡∂Ö‡∂©‡∑î ‡∂Ö‡∂ú‡∂∫‡∂ö‡∑ä (e.g., < 100ms) ‡∂∫‡∂±‡∑î ‡∑Ä‡∑ö‡∂ú‡∑Ä‡∂≠‡∑ä ‡∑É‡∂∏‡∑ä‡∂∂‡∂±‡∑ä‡∂∞‡∂≠‡∑è‡∑Ä‡∂∫‡∂ö‡∑í. ‡∑Ä‡∑ê‡∂©‡∑í ‡∂Ö‡∂ú‡∂∫‡∂ö‡∑ä (e.g., > 300ms) ‡∂∫‡∂±‡∑î ‡∑É‡∂∏‡∑ä‡∂∂‡∂±‡∑ä‡∂∞‡∂≠‡∑è‡∑Ä‡∂∫ ‡∂∏‡∂±‡∑ä‡∂Ø‡∂ú‡∑è‡∂∏‡∑ì ‡∂∂‡∑Ä‡∂∫‡∑í.</li>
                    <li><b>IP Address & Bandwidth:</b> ‡∂∏‡∑ô‡∑Ñ‡∑í ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∂± IP ‡∂Ω‡∑í‡∂¥‡∑í‡∂±‡∂∫ ‡∑É‡∑Ñ ‡∑Ä‡∑ö‡∂ú ‡∑É‡∑ì‡∂∏‡∑è‡∑Ä (Bandwidth) <b>‡∂Ü‡∂Ø‡∂ª‡∑ä‡∑Å ‡∂Ø‡∂≠‡∑ä‡∂≠ (Example Data)</b> ‡∑Ä‡∑ö. Browser ‡∂ë‡∂ö‡∂ö‡∑ä ‡∂≠‡∑î‡∂Ω ‡∑É‡∑í‡∂ß 100% ‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í‡∑Ä ‡∂∏‡∑ö‡∑Ä‡∑è ‡∂Ω‡∂∂‡∑è‡∂ú‡∂≠ ‡∂±‡∑ú‡∑Ñ‡∑ê‡∂ö.</li>
                </ul>
            </div>
            <div class="section-box">
                <label for="ping-host-list">‡∂¥‡∂ª‡∑ì‡∂ö‡∑ä‡∑Ç‡∑è ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ Host ‡∂Ω‡∑ê‡∂∫‡∑í‡∑É‡∑ä‡∂≠‡∑î‡∑Ä (‡∂ë‡∂ö ‡∂¥‡∑ö‡∑Ö‡∑í‡∂∫‡∂ß ‡∂ë‡∂ö ‡∂ú‡∑è‡∂±‡∑ö):</label>
                <textarea id="ping-host-list" spellcheck="false" placeholder="youtube.com&#10;google.lk&#10;facebook.com"></textarea>
            </div>
             <div class="section-box controls-box">
                <div class="controls">
                    <button id="ping-start-btn">üöÄ Start Checking</button>
                    <button id="ping-stop-btn" class="stop-btn" disabled>üõë Stop</button>
                </div>
                <div class="progress-container" style="margin-top: 20px;">
                    <div id="ping-progress-text">Waiting to start...</div>
                    <div class="progress-bar">
                        <div id="ping-progress-bar-inner"></div>
                    </div>
                </div>
            </div>
            <div id="ping-results-container"></div>
        </div>
    </div>

    <!-- WhatsApp Button (Unchanged) -->
    <a id="whatsapp-link" class="whatsapp-btn" role="button" aria-label="Contact on WhatsApp">
        <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 448 512'><path fill='%23ffffff' d='M380.9 97.1C339 55 287.3 32 233.7 32 103.5 32 0 135.5 0 265.7 0 327 19.8 386.5 57.6 433l-40.4 78.2 80.9-21.3c45.7 24.9 97.6 38.6 150.5 38.6 130.2 0 233.7-103.5 233.7-233.7 0-53.7-23-104.6-65-146.5zM233.7 440.1c-42.5 0-84.4-11.5-121.1-33.1l-8.6-5.1-48.1 12.7 12.9-46.9-5.6-9.1C30.1 316.7 16 291.9 16 265.7 16 155.3 102.7 68.6 213.1 68.6c56.6 0 109.8 22 149.8 61.9 40 40 62 93.2 62 149.8 0 110.4-86.7 197.1-197.1 197.1z'/></svg>" alt="whatsapp">
        <span class="label">WhatsApp</span>
    </a>

    <!-- JAVASCRIPT IS COMPLETELY UNCHANGED -->
    <script>
    (function(){
        // --- Canvas Background Animation ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let width = canvas.width = window.innerWidth;
        let height = canvas.height = window.innerHeight;
        let columns = Math.floor(width / 14);
        let drops = new Array(columns).fill(1);
        const chars = '01‚ñà‚ñì‚ñí‚ñësampath<>/#&@¬•$';
        const charArr = chars.split('');
        function resizeCanvas(){
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            columns = Math.floor(width / 14);
            drops = new Array(columns).fill(1);
        }
        window.addEventListener('resize', resizeCanvas, false);
        function draw(){
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, width, height);
            ctx.font = '13px Source Code Pro, monospace';
            for (let i=0; i<drops.length; i++){
                const text = charArr[Math.floor(Math.random() * charArr.length)];
                const x = i * 14; const y = drops[i] * 14;
                ctx.fillStyle = 'rgba(160,255,180,0.95)';
                ctx.fillText(text, x, y);
                if (y > height && Math.random() > 0.975) { drops[i] = 0; }
                drops[i]++;
            }
            requestAnimationFrame(draw);
        }
        draw();

        // --- WhatsApp Link ---
        const whatsappBtn = document.getElementById('whatsapp-link');
        const intlNumber = '94729669087';
        whatsappBtn.href = `https://wa.me/${intlNumber}?text=${encodeURIComponent('hi üßë‚Äçüíª')}`;
        whatsappBtn.target = '_blank';

        // --- General DOM Loaded Event ---
        document.addEventListener('DOMContentLoaded', function() {
            // --- Tab Navigation Logic ---
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    tabContents.forEach(content => content.classList.remove('active'));
                    const targetTab = button.id === 'btn-tab-1' ? 'host-checker-tab' : 'ping-checker-tab';
                    document.getElementById(targetTab).classList.add('active');
                });
            });

            // --- Logic for Tab 1: Host Checker ---
            setupHostChecker();

            // --- Logic for Tab 2: IP & Ping Checker ---
            setupPingChecker();
        });
        
        // --- TAB 1: HOST CHECKER SETUP ---
        function setupHostChecker() {
            const startBtn = document.getElementById('start-btn');
            const stopBtn = document.getElementById('stop-btn');
            const hostListTextarea = document.getElementById('host-list');
            const batchSizeInput = document.getElementById('batch-size');
            const timeoutInput = document.getElementById('timeout');
            const progressText = document.getElementById('progress-text');
            const progressBarInner = document.getElementById('progress-bar-inner');
            const successfulList = document.getElementById('successful-list');
            const failedList = document.getElementById('failed-list');
            const successCountEl = document.getElementById('success-count');
            const failCountEl = document.getElementById('fail-count');
            const hostsContainer = document.querySelector('hosts');

            let isChecking = false, stopFlag = false, successCount = 0, failCount = 0;

            if (hostsContainer) {
                const hostsFromTag = hostsContainer.textContent.trim().split('\n').map(h => h.trim()).filter(h => h);
                hostListTextarea.value = hostsFromTag.join('\n');
            }

            startBtn.addEventListener('click', () => { if (!isChecking) runChecks(); });
            stopBtn.addEventListener('click', () => {
                if (isChecking) { stopFlag = true; progressText.textContent = "Stopping..."; stopBtn.disabled = true; }
            });

            async function checkHost(host, timeout) {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), timeout);
                try {
                    await fetch(`https://${host}/?r=${Math.random()}`, { method: 'HEAD', mode: 'no-cors', signal: controller.signal, cache: 'no-store' });
                    clearTimeout(timeoutId); return true;
                } catch (error) { clearTimeout(timeoutId); return false; }
            }

            function updateUI(host, isSuccess) {
                const li = document.createElement('li');
                if (isSuccess) {
                    const a = document.createElement('a');
                    a.href = `https://${host}`;
                    a.target = '_blank';
                    a.textContent = host;
                    li.appendChild(a);
                    li.classList.add('success');
                    successfulList.prepend(li);
                    successCount++;
                    successCountEl.textContent = successCount;
                } else {
                    li.textContent = host;
                    li.classList.add('fail');
                    failedList.prepend(li);
                    failCount++;
                    failCountEl.textContent = failCount;
                }
            }

            function resetUI() {
                successfulList.innerHTML = ''; failedList.innerHTML = '';
                successCount = 0; failCount = 0;
                successCountEl.textContent = '0'; failCountEl.textContent = '0';
                progressBarInner.style.width = '0%'; progressBarInner.textContent = '';
                stopFlag = false;
            }

            async function runChecks() {
                resetUI(); isChecking = true; startBtn.disabled = true; stopBtn.disabled = false; hostListTextarea.disabled = true;
                const hosts = hostListTextarea.value.split('\n').map(h => h.trim()).filter(h => h.length > 0);
                const totalHosts = hosts.length;
                if (totalHosts === 0) {
                    progressText.textContent = "No hosts to check."; isChecking = false; startBtn.disabled = false; stopBtn.disabled = true; hostListTextarea.disabled = false; return;
                }
                const batchSize = parseInt(batchSizeInput.value, 10) || 10, timeout = parseInt(timeoutInput.value, 10) || 5000;
                let checkedCount = 0;
                for (let i = 0; i < totalHosts; i += batchSize) {
                    if (stopFlag) { progressText.textContent = `Check stopped at ${checkedCount}/${totalHosts}.`; break; }
                    const batch = hosts.slice(i, i + batchSize);
                    const promises = batch.map(host =>
                        checkHost(host, timeout).then(isSuccess => {
                            if (stopFlag) return;
                            updateUI(host, isSuccess); checkedCount++;
                            const percentage = Math.round((checkedCount / totalHosts) * 100);
                            progressBarInner.style.width = `${percentage}%`; progressBarInner.textContent = `${percentage}%`;
                            progressText.textContent = `Checking... [${checkedCount} / ${totalHosts}]`;
                        })
                    );
                    await Promise.all(promises);
                }
                if (!stopFlag) { progressText.textContent = `Completed! ${successCount} successful, ${failCount} failed.`; }
                isChecking = false; startBtn.disabled = false; stopBtn.disabled = true; hostListTextarea.disabled = false;
            }
        }

        // --- TAB 2: PING CHECKER SETUP ---
        function setupPingChecker() {
            const startBtn = document.getElementById('ping-start-btn');
            const stopBtn = document.getElementById('ping-stop-btn');
            const hostListTextarea = document.getElementById('ping-host-list');
            const progressText = document.getElementById('ping-progress-text');
            const progressBarInner = document.getElementById('ping-progress-bar-inner');
            const resultsContainer = document.getElementById('ping-results-container');
            
            let isChecking = false, stopFlag = false;

            startBtn.addEventListener('click', () => { if (!isChecking) runPingChecks(); });
            stopBtn.addEventListener('click', () => {
                if (isChecking) { stopFlag = true; progressText.textContent = "Stopping..."; stopBtn.disabled = true; }
            });
            
            async function checkHostPing(host) {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 4000);
                const startTime = performance.now();
                try {
                    await fetch(`https://${host}/?r=${Date.now()}`, { method: 'HEAD', mode: 'no-cors', signal: controller.signal, cache: 'no-store' });
                    const endTime = performance.now();
                    clearTimeout(timeoutId);
                    return { host, status: 'Success', ping: Math.round(endTime - startTime) };
                } catch (error) {
                    clearTimeout(timeoutId);
                    return { host, status: 'Failed', ping: -1 };
                }
            }

            function updatePingUI(result) {
                const card = document.createElement('div');
                card.classList.add('ping-result-card');
                const hostName = `<h4>${result.host}</h4>`;
                let ip = `N/A`, ping = `N/A`, status = ``, bandwidth = `N/A`;
                if(result.status === 'Success') {
                    card.classList.add('success-ping');
                    status = `<span class="status-ok">Reachable</span>`;
                    ip = `104.${Math.floor(Math.random() * 20) + 16}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 254) + 1}`;
                    const limits = ["1 Mbps", "2 Mbps", "5 Mbps", "Unrestricted"];
                    bandwidth = limits[Math.floor(Math.random() * limits.length)];
                    let pingClass = 'fast';
                    if (result.ping > 150) pingClass = 'medium';
                    if (result.ping > 400) pingClass = 'slow';
                    ping = `<span class="ping-time ${pingClass}">${result.ping} ms</span>`;
                } else {
                    card.classList.add('fail-ping');
                    status = `<span class="status-fail">Unreachable / Timed out</span>`;
                }
                card.innerHTML = `
                    ${hostName}
                    <div>Status: ${status}</div>
                    <div>Ping (Latency): ${ping}</div>
                    <div>IP Address (e.g.): <span>${ip}</span></div>
                    <div>Bandwidth Limit (e.g.): <span>${bandwidth}</span></div>
                `;
                resultsContainer.prepend(card);
            }

            function resetPingUI() {
                resultsContainer.innerHTML = '';
                progressBarInner.style.width = '0%'; progressBarInner.textContent = '';
                stopFlag = false;
            }

            async function runPingChecks() {
                resetPingUI(); isChecking = true; startBtn.disabled = true; stopBtn.disabled = false; hostListTextarea.disabled = true;
                const hosts = hostListTextarea.value.split('\n').map(h => h.trim()).filter(h => h.length > 0);
                const totalHosts = hosts.length;
                if (totalHosts === 0) {
                    progressText.textContent = "No hosts to check."; isChecking = false; startBtn.disabled = false; stopBtn.disabled = true; hostListTextarea.disabled = false; return;
                }
                for (let i = 0; i < totalHosts; i++) {
                    if (stopFlag) { progressText.textContent = `Check stopped at ${i + 1}/${totalHosts}.`; break; }
                    const host = hosts[i];
                    progressText.textContent = `Checking ${host}... [${i + 1} / ${totalHosts}]`;
                    const result = await checkHostPing(host);
                    if (stopFlag) break;
                    updatePingUI(result);
                    const percentage = Math.round(((i + 1) / totalHosts) * 100);
                    progressBarInner.style.width = `${percentage}%`; progressBarInner.textContent = `${percentage}%`;
                }
                if (!stopFlag) { progressText.textContent = `Check completed!`; }
                isChecking = false; startBtn.disabled = false; stopBtn.disabled = true; hostListTextarea.disabled = false;
            }
        }

    })();
    </script>
</body>
</html>